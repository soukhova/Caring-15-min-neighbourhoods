"0","# all speciality categories should be represented, i.e., each ID should have 14 rows -- if that category is empty it should be 0. Let's add those 0s. "
"0","access_15_zeros <- "
"0","  data.frame(from_id = rep(HAM_census_21$GeoUID, length(access_15$Care_Category_Specific |> unique())),"
"0","           Care_Category = rep(c(""Dependent-centric"", ""Dependent-centric"", ""Grocery-centric"", ""Dependent-centric"", "
"0","                                 ""Dependent-centric"", ""Dependent-centric"","
"0","                                 ""Errand-centric"", ""Errand-centric"", "
"0","                                 ""Grocery-centric"",""Health-centric"","
"0","                                 ""Health-centric"", ""Errand-centric"","
"0","                                 ""Dependent-centric"", ""Health-centric""), length(HAM_census_21$GeoUID)),"
"0","           "
"0","           Care_Category_Specific = rep(c(""Park"", ""Daycare or EarlyON"", ""Convenience Store"", ""School"","
"0","                                          ""Long-Term Care or Retirement Home"", ""Senior Centre"","
"0","                                          ""Bank or ATM"", ""Library"", "
"0","                                          ""Grocer"", ""Dentist"", "
"0","                                          ""Pharmacy"", ""Post Office"","
"0","                                          ""Community or Recreation Centre"", ""Hospital or Clinic""), length(HAM_census_21$GeoUID)),"
"0","           "
"0","           copp_isc = rep(0, length(HAM_census_21$GeoUID)*length(c(""Park"", ""Daycare or EarlyON"", ""Convenience Store"", ""School"","
"0","                                          ""Long-Term Care or Retirement Home"", ""Senior Centre"","
"0","                                          ""Bank or ATM"", ""Library"", "
"0","                                          ""Grocer"", ""Dentist"", "
"0","                                          ""Pharmacy"", ""Post Office"","
"0","                                          ""Community or Recreation Centre"", ""Hospital or Clinic""))),"
"0","           "
"0","           V_isc = rep(0, length(HAM_census_21$GeoUID)*length(c(""Park"", ""Daycare or EarlyON"", ""Convenience Store"", ""School"","
"0","                                          ""Long-Term Care or Retirement Home"", ""Senior Centre"","
"0","                                          ""Bank or ATM"", ""Library"", "
"0","                                          ""Grocer"", ""Dentist"", "
"0","                                          ""Pharmacy"", ""Post Office"","
"0","                                          ""Community or Recreation Centre"", ""Hospital or Clinic""))))"
"0",""
"0","access_15 <- bind_rows(access_15_zeros, access_15) |>"
"0","                         group_by(from_id, Care_Category, Care_Category_Specific) |> "
"0","  summarize(copp_isc = sum(copp_isc),"
"0","            V_isc = sum(V_isc))"
"2","`summarise()` has grouped output by 'from_id', 'Care_Category'. You can override using the `.groups` argument."
"0","access_15_bycategory <- access_15 |> group_by(from_id, Care_Category)  |> "
"0","  summarize(copp_ic = sum(copp_isc, na.rm=T),"
"0","            V_ic = sum(V_isc, na.rm = T))"
"2","`summarise()` has grouped output by 'from_id'. You can override using the `.groups` argument."
"0","access_15 <- access_15 |>"
"0","  left_join(HAM_census_21 |> st_drop_geometry() |> select(c(""GeoUID"", ""Population"", ""LICO_AT_TOTAL"", ""COMMUNITY_"")), "
"0","            by=c(""from_id"" = ""GeoUID"")) |> "
"0","  mutate(copp_isc_perpop = copp_isc/Population,"
"0","         v_isc = V_isc/Population) |> ungroup()"
"0",""
"0","access_15_bycategory <- access_15_bycategory |>"
"0","  left_join(HAM_census_21 |> st_drop_geometry() |> select(c(""GeoUID"", ""Population"", ""LICO_AT_TOTAL"", ""COMMUNITY_"")), "
"0","            by=c(""from_id"" = ""GeoUID"")) |> "
"0","  mutate(copp_ic_perpop = copp_ic/Population,"
"0","         v_ic = V_ic/Population) |> ungroup()"
"0",""
"0","rm(access_15_zeros)"
