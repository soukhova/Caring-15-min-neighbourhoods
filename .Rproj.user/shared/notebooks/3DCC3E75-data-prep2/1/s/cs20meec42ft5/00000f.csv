"0","HAM_census_21 <- HAM_census_21 |>"
"0","  rename(""LICO_AT_TOTAL"" = `v_CA21_1085: Prevalence of low income based on the Low-income cut-offs, after tax (LICO-AT) (%)`) |> "
"0","  mutate(LICO_AT_TOTAL = ifelse(is.na(LICO_AT_TOTAL), 0, LICO_AT_TOTAL)) |>"
"0","  rowwise() |> mutate("
"0","         perc_walked = (`v_CA21_7647: Walked`)/sum(`v_CA21_7647: Walked`,`v_CA21_7635: Car, truck or van`, `v_CA21_7644: Public transit`,`v_CA21_7650: Bicycle`, `v_CA21_7653: Other method`, na.rm=TRUE),"
"0","         perc_car = (`v_CA21_7635: Car, truck or van`)/sum(`v_CA21_7647: Walked`,`v_CA21_7635: Car, truck or van`, `v_CA21_7644: Public transit`,`v_CA21_7650: Bicycle`, `v_CA21_7653: Other method`, na.rm=TRUE),"
"0","perc_transit = (`v_CA21_7644: Public transit`)/sum(`v_CA21_7647: Walked`,`v_CA21_7635: Car, truck or van`, `v_CA21_7644: Public transit`,`v_CA21_7650: Bicycle`, `v_CA21_7653: Other method`, na.rm=TRUE),"
"0"," perc_cycle_other = (`v_CA21_7650: Bicycle`+ `v_CA21_7653: Other method`)/sum(`v_CA21_7647: Walked`,`v_CA21_7635: Car, truck or van`, `v_CA21_7644: Public transit`,`v_CA21_7650: Bicycle`, `v_CA21_7653: Other method`, na.rm=TRUE),"
"0","pop_den = Population/`Shape Area`) |>"
"0","  select(c(""GeoUID"", ""Population"", ""LICO_AT_TOTAL"", ""perc_walked"", ""perc_car"", ""perc_transit"", ""perc_cycle_other"", ""pop_den""))"
"0",""
"0","HAM_census_21 <- st_join(HAM_census_21, Community_Boundaries|> select(""COMMUNITY_""), largest=TRUE)"
"2","Warning: attribute variables are assumed to be spatially constant throughout all geometries"
"0","DA_centroids <- HAM_census_21 |> st_centroid() "
"2","Warning: st_centroid assumes attributes are constant over geometries"
